(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d222424"],{ce9e:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.persons?s("div",{staticClass:"text-sm border shadow"},[s("div",{staticClass:"w-full bg-gray-500 text-white p-1"},[t._v(t._s(t.$attrs.filter.project))]),s("div",{staticClass:"p-2 pb-1 bg-gray-200 w-full grid grid-cols-7"},[t._l(t.fields,(function(e){return[t.schema[e].list?s("div",{staticClass:"font-bold capitalize"},[t._v(" "+t._s(e)+" ")]):t._e()]}))],2),t._l(t.persons,(function(e){return[s("div",{staticClass:"p-2 pb-1 border-b w-full hover:bg-gray-100 items-center cursor-pointer grid grid-cols-7"},[t._l(t.fields,(function(r){return["_id"!=r&&t.schema[r].list?s("div",[t._v(t._s(t.schema[r].format(e[r])))]):t._e()]})),s("div",{staticClass:"flex flex-row text-xl justify-end items-center"},[s("icon",{staticClass:"border rounded h-8 w-8 text-center hover:bg-blue-300",attrs:{name:"edit",title:"Modifica"},on:{click:function(e){t.record=t.survey,t.edit=!t.edit}}}),s("icon",{staticClass:"border rounded h-8 w-8 text-center hover:bg-blue-300 mx-2",attrs:{name:"quiz",title:"Risposte"},on:{click:function(e){t.record=t.survey,t.answers=!t.answers}}})],1)],2)]}))],2):t._e()},a=[],i=s("5530"),n=(s("b64b"),s("159b"),s("4de4"),s("7db0"),s("2f62")),d={name:"TSISurveyPersons",data:function(){return{persons:null,schema:null,edit:!1,answers:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["datastore"])),{},{fields:function(){return this.schema=this.datastore.dataset.schema.persons,Object.keys(this.datastore.dataset.schema.persons)},cols:function(){var t=this,e=0;return this.fields&&this.fields.forEach((function(s){t.datastore.dataset.schema.persons[s].list&&e++})),e}}),mounted:function(){var t=this;this.datastore.dataset.persons&&this.datastore.dataset.currentSurvey?this.datastore.dataset.currentSurvey._id===this.$attrs.filter._id&&(this.persons=this.datastore.dataset.persons):this.$api.service("persons").find({query:{survey_id:this.$attrs.survey||this.$attrs.filter._id}}).then((function(e){t.$store.dispatch("dataset",{table:"persons",data:e.data}),t.$store.dispatch("dataset",{table:"currentSurvey",data:t.$attrs.filter}),t.persons=e.data}))}},o=d,c=s("2877"),l=Object(c["a"])(o,r,a,!1,null,null,null);e["default"]=l.exports}}]);